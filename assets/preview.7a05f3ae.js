import"./dynamic-import-polyfill.b3685604.js";const e=new BroadcastChannel("editor-channel");function t(e){document.title=`${e} | Preview`}function n(e){const t=document.querySelector("link[rel~='icon']");t&&(t.href=e)}function o(e){e.forEach((({id:e,link:t})=>{document.getElementById(e)||function(e,t){const n=document.getElementsByTagName("HEAD")[0],o=document.createElement("link");o.id=e,o.rel="stylesheet",o.type="text/css",o.href=t,n.appendChild(o)}(e,t)}));let t=[...document.querySelectorAll('[id*="editor-asset-link"]')],n=e.map((({id:e})=>e));t.forEach((e=>{n.includes(e.id)||e.remove()}))}function a({html:e="",assets:t=[]}){o(t),function(e){document.body.innerHTML=e}(e)}e.addEventListener("message",(({data:e})=>{switch(e.action){case"SETUP":!function({title:e,html:o="",assets:c=[],favicon:i}){a({html:o,assets:c}),t(e),n(i)}(e.payload);break;case"UPDATE_TITLE":t(e.payload.title);break;case"UPDATE_FAVICON":n(e.payload.favicon);break;case"UPDATE_PREVIEW":a(e.payload)}})),e.postMessage({action:"INIT"}),console.log("Preview ðŸŽ¨");
