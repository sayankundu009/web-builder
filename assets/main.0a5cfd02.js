var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,r)=>{for(var s in r||(r={}))t.call(r,s)&&l(e,s,r[s]);if(a)for(var s of a(r))n.call(r,s)&&l(e,s,r[s]);return e};import"./dynamic-import-polyfill.b3685604.js";import{c as s,a as c,u as i,D as o,F as m,B as d,b as u,d as E,e as p,f as g,g as f,h,i as v,j as x,P as b,k as w,S as y,R as N,l as k}from"./vendor.46cbebb0.js";const S={pages:{ELEMENTS:1,LAYERS:2,ASSETS:3,SETTINGS:4},tabs:{elementsPage:{DESIGN:1,STYLES:2}},elementsPageTab:1,currentPage:1,showCodePreview:!1},T="NAVIGATION_UPDATE_CURRENT_PAGE",C="NAVIGATION_UPDATE_ELEMENTS_PAGE_TAB",L="NAVIGATION_UPDATE_SHOW_CODE_PREVIEW";function D(e=!1){return{type:L,payload:{open:e}}}const A={elements:new Map,mainDocument:null,selectedElement:null},_="ELEMENTS_UPDATE_ELEMENT_LIST",P="ELEMENTS_UPDATE_MAIN_DOCUMENT",M="ELEMENTS_UPDATE_SELECTED_ELEMENT";const I={name:"Untitled",assets:[]},R="PROJECT_UPDATE_NAME",O="PROJECT_UPDATE_ASSETS";function H(e){return{type:O,payload:{assets:e}}}const B=c(s({navigationReducer:function(e=S,t){switch(t.type){case T:return r(r({},e),{currentPage:t.payload.page});case C:return r(r({},e),{elementsPageTab:t.payload.tab});case L:return r(r({},e),{showCodePreview:t.payload.open});default:return e}},elementsReducer:function(e=A,t){switch(t.type){case _:{const a=t.payload.items,n=new Map;return a.forEach((e=>{n.set(e.id,e)})),r(r({},e),{elements:n})}case P:{const a=t.payload.doc;return r(r({},e),{mainDocument:a})}case M:{const a=t.payload.selectedElement;return r(r({},e),{selectedElement:a})}default:return e}},projectReducer:function(e=I,t){switch(t.type){case R:{const a=t.payload.name;return r(r({},e),{name:a})}case O:{const a=t.payload.assets;return r(r({},e),{assets:[...a]})}default:return e}}}));function j(){const e=new BroadcastChannel("editor-channel");e.addEventListener("message",(({data:e})=>{switch(e.action){case"INIT":$({action:"SETUP",payload:U()})}})),window._EDITOR_CHANNEL_=e}function $(e){window._EDITOR_CHANNEL_.postMessage(e)}function z(){let e="";const{elementsReducer:{mainDocument:t}}=B.getState();return t&&t.body&&(e=t.body.innerHTML),e}function V(){const{projectReducer:{assets:e}}=B.getState();return[...e]}function U(){return{favicon:document.querySelector("link[rel~='icon']").href,title:"Untitled",html:z(),assets:V()}}var Y=()=>{const e=i();let t=null;return o.createElement("nav",{className:"bg-background dark:bg-background-dark shadow"},o.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-4"},o.createElement("div",{className:"relative flex items-center justify-between h-16"},o.createElement("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden"},o.createElement("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false"},o.createElement("span",{className:"sr-only"},"Open main menu"),o.createElement("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})),o.createElement("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),o.createElement("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"},o.createElement("div",{className:"flex-shrink-0 flex items-center"},o.createElement("h1",{className:"text-lg dark:text-white",role:"button"},"Untitled"))),o.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},o.createElement("div",{className:"hidden sm:block sm:ml-6"},o.createElement("div",{className:"flex space-x-1"},o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){$({action:"UPDATE_PREVIEW",payload:{html:z(),assets:V()}})}},o.createElement(m,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Save")),o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){t&&!t.closed?t.focus():t=window.open("/preview/")}},o.createElement(d,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Preview")),o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){e(D(!0))}},o.createElement(u,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Code"))))))),o.createElement("div",{className:"sm:hidden",id:"mobile-menu"},o.createElement("div",{className:"px-2 pt-2 pb-3 space-y-1"},o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(m,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Save")),o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(d,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Preview")),o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(u,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Code")))))};function G(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-front",height:"1em",width:"1em",viewBox:"0 0 16 16"},o.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm5 10v2a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2v5a2 2 0 0 1-2 2H5z"}))}function W(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-seam",height:"1em",width:"1em",viewBox:"0 0 16 16"},o.createElement("path",{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}))}function q(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V2zm8.5 0v8H15V2H8.5zm0 9v3H15v-3H8.5zm-1-9H1v3h6.5V2zM1 14h6.5V6H1v8z"}))}function F(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M12.258 3h-8.51l-.083 2.46h.479c.26-1.544.758-1.783 2.693-1.845l.424-.013v7.827c0 .663-.144.82-1.3.923v.52h4.082v-.52c-1.162-.103-1.306-.26-1.306-.923V3.602l.431.013c1.934.062 2.434.301 2.693 1.846h.479L12.258 3z"}))}function J(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M10.5 15a.5.5 0 0 1-.5-.5V2H9v12.5a.5.5 0 0 1-1 0V9H7a4 4 0 1 1 0-8h5.5a.5.5 0 0 1 0 1H11v12.5a.5.5 0 0 1-.5.5z"}))}var Z="_logo_1cgqi_1",K=()=>{const e=i(),{pages:t,currentPage:a}=E((({navigationReducer:e})=>e));function n(e){return a==e?"bg-main dark:bg-main-dark text-white":""}function l(t){e(function(e=1){return{type:T,payload:{page:e}}}(t))}return o.createElement("div",{className:"h-screen w-16 bg-background dark:bg-background-dark border-r border-borderColor dark:border-borderColor-dark shadow"},o.createElement("div",{role:"button",className:"my-3 mx-auto mb-4 rounded-full h-12 w-12 flex items-center justify-center border"},o.createElement("a",{href:"",className:"dark:text-white text-2xl text-center transform rotate-12"},o.createElement(p,null))),o.createElement("div",{role:"button",className:`${Z} ${n(t.ELEMENTS)}`,onClick:()=>l(t.ELEMENTS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(G,null))),o.createElement("div",{role:"button",className:`${Z} ${n(t.LAYERS)}`,onClick:()=>l(t.LAYERS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(g,null))),o.createElement("div",{role:"button",className:`${Z} ${n(t.ASSETS)}`,onClick:()=>l(t.ASSETS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(W,null))),o.createElement("div",{role:"button",className:`${Z} ${n(t.SETTINGS)}`,onClick:()=>l(t.SETTINGS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(f,null))))};function Q(e){return"BODY"==e.tagName}function X(e,t){if(null==e)return"";const a=e.getBoundingClientRect(),n=t-a.top-a.height/2;let l="";return n<10&&n>-10?l="inside":n<-10?l="prepend":n>10&&(l="append"),l}function ee(e){e.removeAttribute("editor-insert-preview")}function te(e){var t;null==(t=null==e?void 0:e.dataTransfer)||t.setData("text/plain",e.target.dataset.elementId||""),e.currentTarget.style.opacity="0.5"}function ae(e){var t,a,n;const l=parseInt(null==(t=e.dataTransfer)?void 0:t.getData("text"));let r=e.target;ee(r),console.log(r.tagName),null==(a=e.dataTransfer)||a.clearData();const s=Q(r)?"inside":X(r,e.clientY),{elementsReducer:{elements:c}}=B.getState(),i=null==c?void 0:c.get(l),o=function(e,t,a="inside"){var n,l;if(null==e)return null;switch(a){case"inside":t.appendChild(e);break;case"prepend":null==(n=t.parentElement)||n.insertBefore(e,t);break;case"append":null==(l=t.parentElement)||l.insertBefore(e,t.nextElementSibling)}return e}(function(e){if(e)return(new DOMParser).parseFromString(e,"text/html").body.firstElementChild;return null}((null==i?void 0:i.template)||""),r,s);return null==(n=e.dataTransfer)||n.clearData(),o}function ne(e){e.target.style.removeProperty("opacity")}var le=e=>{const t=i(),[a,n]=o.useState(!0),[l,r]=o.useState([]),[s,c]=o.useState([]),[m,d]=o.useState("");function u(){const e=[{id:1,name:"section",display_name:"Section",icon:o.createElement(h,{className:"inline"}),template:'<section builder-section style="width: 100%;height: 300px;background: #fce7d9;"></section>'},{id:2,name:"heading",display_name:"Heading",icon:o.createElement(F,null),template:"<h1>Hello</h1>"},{id:3,name:"text",display_name:"Text",icon:o.createElement(J,null),template:"<p>Text</p>"},{id:4,name:"grid",display_name:"Grid",icon:o.createElement(q,null),template:"<div editor-grid></div>"}];var a;r(e),c(e),t((a=e.map((({id:e,name:t,display_name:a,template:n})=>({id:e,name:t,display_name:a,template:n}))),{type:_,payload:{items:a}})),n(!1)}return o.useEffect((()=>{u()}),[]),o.useEffect((()=>{a||c((()=>m?l.filter((e=>e.display_name.toLowerCase().match(m.toLowerCase()))):l))}),[m]),o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"p-3 pt-5"},o.createElement("div",{className:"container"},o.createElement("input",{type:"text",className:"px-3 py-3 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"Search elements",value:m,onChange:function(e){var t;d((null==(t=e.target)?void 0:t.value)||"")}})),o.createElement("div",{className:"container grid grid-cols-2 gap-1 pt-5"},s.map((e=>o.createElement("div",{className:"bg-background-secondary dark:bg-background-secondary-dark w-full h-28 cursor-move",key:e.id,onDragStart:te,onDragEnd:ne,"data-element-id":e.id,draggable:!0},o.createElement("div",{className:"text-center py-6"},o.createElement("div",{className:"text-center text-2xl mx-auto dark:text-white"},e.icon),o.createElement("div",{className:"dark:text-white mt-2"},o.createElement("span",null,e.display_name)))))))))},re=e=>{const{element:t}=e,[a,n]=o.useState("");return o.useEffect((()=>{n((null==t?void 0:t.innerText)||"")}),[t]),o.createElement(o.Fragment,null,o.createElement("label",{className:"dark:text-white"},"Text"),o.createElement("input",{type:"text",className:"px-3 py-3 mt-2 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"Set element text",value:a,onChange:function(e){const a=e.target.value||"";t.innerText=a,n(a)}}))},se=e=>{i();const t=E((({elementsReducer:e})=>e.selectedElement));return o.createElement("div",{style:{display:e.show&&t?"initial":"none"}},o.createElement("div",{className:"p-3 pt-5"},o.createElement("div",{className:"container"},o.createElement(re,{element:t}))))},ce=e=>{const t=i(),{tabs:a,currentTab:n}=E((({navigationReducer:e})=>({currentTab:e.elementsPageTab,tabs:e.tabs.elementsPage})));function l(e){return n==e}function r(e){return l(e)?"bg-background dark:bg-background-dark":"bg-background-secondary dark:bg-background-secondary-dark"}function s(e){t(function(e=1){return{type:C,payload:{tab:e}}}(e))}return o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("ul",{className:"flex cursor-pointer"},o.createElement("li",{className:`flex-1 text-center py-2 px-6 dark:text-white ${r(a.DESIGN)}`,onClick:()=>s(a.DESIGN)},"Design"),o.createElement("li",{className:`flex-1 text-center py-2 px-6 dark:text-white ${r(a.STYLES)}`,onClick:()=>s(a.STYLES)},"Style")),o.createElement(le,{show:l(a.DESIGN)}),o.createElement(se,{show:l(a.STYLES)}))},ie=e=>o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(g,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Layers")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"})),oe=e=>{const t=i(),[a,n]=o.useState(!1),[l,r]=o.useState(""),s=E((({projectReducer:e})=>e.assets)),c=E((({elementsReducer:e})=>e.mainDocument));return o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(W,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Assets")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"},o.createElement("div",{className:"container flex gap-2"},o.createElement("input",{type:"text",className:"px-3 py-3 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"CDN links",value:l,onChange:e=>r(e.target.value)}),o.createElement("button",{role:"button",className:"dark:text-white text-white bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center focus:outline-none",onClick:function(){if(!l)return;if(null===l.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g))return;let e=[...s];-1!=e.findIndex((({link:e})=>e==l))||(n(!0),fetch(l).then((a=>{if(200==a.status){const a=`editor-asset-link-${Date.now()}`;e=[...e,{id:a,name:(n=l,n&&(null==(i=null==(s=null==(r=null==n?void 0:n.split("\\"))?void 0:r.pop())?void 0:s.split("/"))?void 0:i.pop())||""),link:l||""}],function(e,t,a){if(null==e)return null;const n=e.getElementsByTagName("HEAD")[0],l=e.createElement("link");l.id=a,l.rel="stylesheet",l.type="text/css",l.href=t,n.appendChild(l)}(c,l,a),t(H(e))}var n,r,s,i})).catch((e=>{console.log(e)})).finally((()=>{r(""),n(!1)})))}},"Add")),o.createElement("div",{className:"container mt-4"},s.map(((e,a)=>o.createElement("div",{className:"flex",key:e.id},o.createElement("div",{className:"flex-1"},o.createElement("a",{href:e.link,target:"_blank",className:"inline-flex text-blue-500"},o.createElement("div",{className:"mt-1.5 mr-1"},o.createElement(v,null)),o.createElement("div",null,e.name))),o.createElement("div",{className:"mr-4 mt-1"},o.createElement("button",{onClick:()=>function(e){let a=s[e];var n,l,r;n=c,l=a.id,null!=n&&null!=l&&(null==(r=n.querySelector(`link[id='${l}']`))||r.remove());const i=s.filter(((t,a)=>a!=e));t(H(i))}(a),className:"text-red-500"},o.createElement(x,null)))))))))};function me(){return!!Boolean(localStorage.getItem("dark-mode"))}function de(){let e=document.querySelector("link[rel~='icon']");document.documentElement.classList.add("dark"),localStorage.setItem("dark-mode","true"),e.href="/assets/favicons/favicon-dark.ico"}function ue(){let e=document.querySelector("link[rel~='icon']");document.documentElement.classList.remove("dark"),localStorage.removeItem("dark-mode"),e.href="/assets/favicons/favicon.ico"}var Ee=e=>{const[t,a]=o.useState(!1);return o.useEffect((()=>{a(me())}),[]),o.createElement("div",{className:"mt-1"},o.createElement("div",{className:"flex"},o.createElement("span",{className:"flex-1 items-center dark:text-white"},"Dark mode"),o.createElement("div",{className:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in m-0.5",onClick:function(e){t?ue():de(),a(!t)}},o.createElement("input",{type:"checkbox",name:"toggle",className:(t?"right-0":"")+" bg-white absolute block w-6 h-6 rounded-full border-4 appearance-none cursor-pointer",checked:t,onChange:()=>{}}),o.createElement("label",{className:(t?"bg-main":"dark:bg-white bg-background-secondary")+" toggle-label block overflow-hidden h-6 rounded-full cursor-pointer"}))))},pe=e=>o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(f,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Settings")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"},o.createElement(Ee,null))),ge=()=>{const{pages:e,currentPage:t}=E((({navigationReducer:e})=>e));function a(e){return t==e}return o.createElement("div",{className:"h-full m-2 w-80 bg-background dark:bg-background-dark shadow border dark:border-borderColor-dark"},o.createElement(ce,{show:a(e.ELEMENTS)}),o.createElement(ie,{show:a(e.LAYERS)}),o.createElement(oe,{show:a(e.ASSETS)}),o.createElement(pe,{show:a(e.SETTINGS)}))},fe=()=>{const e=i(),t=o.useRef(null),a=o.useRef(null);function n(t){const n=t.target||null;var l;n&&(!function(e){if(e){if("BODY"==e.tagName)return;e.removeAttribute("editor-element-selected")}}(a.current),a.current=n,"BODY"!=(l=n).tagName&&l.setAttribute("editor-element-selected",""),e({type:M,payload:{selectedElement:n}}))}return o.useEffect((()=>{let a=setInterval((function(){var l;const r=t.current;let s=(null==r?void 0:r.contentDocument)||(null==(l=null==r?void 0:r.contentWindow)?void 0:l.document);if(["complete","interactive"].includes(s.readyState)){const t=r.contentDocument;null==t||t.body.addEventListener("dragover",(e=>function(e){e.preventDefault();let t=e.target;!function(e,t="inside"){e.setAttribute("editor-insert-preview",t)}(t,Q(t)?"inside":X(t,e.clientY))}(e))),null==t||t.body.addEventListener("drop",(e=>ae(e))),null==t||t.body.addEventListener("dragenter",(e=>function(e){(null==e?void 0:e.target).tagName}(e))),null==t||t.body.addEventListener("dragleave",(e=>function(e){ee(e.target)}(e))),null==t||t.body.addEventListener("click",(e=>n(e))),null==t||t.body.addEventListener("mouseover",(e=>function(e){var t;"BODY"!=(t=e.target).tagName&&t.setAttribute("editor-outline","")}(e))),null==t||t.body.addEventListener("mouseout",(e=>function(e){var t;"BODY"!=(t=e.target).tagName&&t.removeAttribute("editor-outline")}(e))),clearInterval(a),e({type:P,payload:{doc:t}})}}),1e3)}),[]),o.createElement("div",{className:"h-full m-2 ml-1 w-full shadow p-1.5 bg-background-secondary dark:bg-background-dark"},o.createElement("iframe",{src:"/playground/",className:"w-full h-full",ref:t}))};function he(e){const t=/<([^\s>]+)(\s|>)+/;let a,n="";return e&&(a=null==e?void 0:e.match(t),n=a?a[1]:""),n}function ve(e){let t,a=/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|\s*\/?[>"']))+.)["']?/gm,n={};for(;t=a.exec(e);){const[e,a,l]=t;n=r(r({},n),{[a]:l})}return n}function xe(e){const t=e.replace(/(\r\n|\n|\r)/g,""),a=function(e){const t=/<[^\/].*?>/gm,a=[];let n;for(;n=t.exec(e);){let e=n[0];n=n[0];const t={tag:e,tagName:he(e),props:ve(e)};a.push(t)}return a}(t);let n=t,l="",r=0;return a.forEach((e=>{let t=e.props.style,a=e.props.class?e.props.class:"",s=e.tagName;if(console.log(e),t){let e=`${s}-${++r}`;a+=" "+e,l+=t?`.${e} {\n${t.split(";").reduce(((e,t)=>(t&&(e+=` ${t.trim()};\n`),e)),"")}}\n\n`:""}a&&(a=` class="${a.trim()}"`);const c=`<${s}${a}>`;n=n.replace(e.tag,c)})),{html:n.trim(),css:l}}var be=e=>{const t=i(),{showCodePreview:a,mainDocument:n}=E((({navigationReducer:e,elementsReducer:t})=>({showCodePreview:e.showCodePreview,mainDocument:t.mainDocument})));const[l,r]=o.useState(""),[s,c]=o.useState("");return o.useEffect((()=>{if(a){const{html:e,css:t}=xe((null==n?void 0:n.body.innerHTML)||"");r(e),c(t)}}),[a]),a?o.createElement(o.Fragment,null,o.createElement("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},o.createElement("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},o.createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),o.createElement("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),o.createElement("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-3/4"},o.createElement("div",{className:"bg-white dark:bg-background-dark px-1 pt-5 pb-4 sm:p-5 sm:pb-4"},o.createElement("div",{className:""},o.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:text-left"},o.createElement("h4",{className:"text-md leading-6 font-medium text-gray-900 dark:text-white inline-flex",id:"modal-title"},o.createElement(u,{className:"mt-1 mr-1"})," ",o.createElement("span",null,"Code")),o.createElement("div",{className:"mt-2 flex gap-2"},o.createElement("div",{className:"w-full"},o.createElement("p",{className:"my-2 dark:text-white"},"Html"),o.createElement("textarea",{className:"w-full border h-96 p-1 dark:text-white",value:l,readOnly:!0,disabled:!0})),o.createElement("div",{className:"w-full"},o.createElement("p",{className:"my-2 dark:text-white"},"CSS"),o.createElement("textarea",{className:"w-full border h-96 p-1 dark:text-white",value:s,readOnly:!0,disabled:!0})))))),o.createElement("div",{className:"bg-gray-50 dark:bg-background-secondary-dark px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},o.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){t(D(!1))}},"Close"),o.createElement("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},"Download")))))):o.createElement(o.Fragment,null)},we=()=>(o.useEffect((()=>{j()}),[]),o.createElement(b,{store:B},o.createElement("main",null,o.createElement("div",{className:"flex flex-row"},o.createElement(K,null),o.createElement("div",{className:"h-screen w-full"},o.createElement(Y,null),o.createElement("div",{className:"flex flex-row",style:{height:"calc(100% - 82px)"}},o.createElement(ge,null),o.createElement(fe,null)))),o.createElement(be,null))));const ye=()=>(o.useEffect((()=>{me()?de():ue()}),[]),o.createElement(w,null,o.createElement(y,null,o.createElement(N,{exact:!0,path:"/"},o.createElement(we,null)))));k.render(o.createElement(o.StrictMode,null,o.createElement(ye,null)),document.getElementById("root"));
