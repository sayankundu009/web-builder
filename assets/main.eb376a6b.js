var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r=(e,r)=>{for(var s in r||(r={}))t.call(r,s)&&l(e,s,r[s]);if(n)for(var s of n(r))a.call(r,s)&&l(e,s,r[s]);return e};import"./dynamic-import-polyfill.b3685604.js";import{c as s,a as c,u as i,D as o,F as m,B as d,b as u,d as E,e as p,f as g,g as f,h as v,i as h,j as x,H as b,k as y,t as w,P as N,l as k,S,R as T,m as A}from"./vendor.93835bad.js";const C={pages:{ELEMENTS:1,LAYERS:2,ASSETS:3,SETTINGS:4},tabs:{elementsPage:{DESIGN:1,STYLES:2}},elementsPageTab:1,currentPage:1,showCodePreview:!1},L="NAVIGATION_UPDATE_CURRENT_PAGE",D="NAVIGATION_UPDATE_ELEMENTS_PAGE_TAB",P="NAVIGATION_UPDATE_SHOW_CODE_PREVIEW";function _(e=!1){return{type:P,payload:{open:e}}}const M={elements:new Map,mainDocument:null,selectedElement:null},R="ELEMENTS_UPDATE_ELEMENT_LIST",I="ELEMENTS_UPDATE_MAIN_DOCUMENT",H="ELEMENTS_UPDATE_SELECTED_ELEMENT";function O(e){return{type:H,payload:{selectedElement:e}}}const B={name:"Untitled",assets:[]},$="PROJECT_UPDATE_NAME",j="PROJECT_UPDATE_ASSETS";function z(e){return{type:j,payload:{assets:e}}}const V=c(s({navigationReducer:function(e=C,t){switch(t.type){case L:return r(r({},e),{currentPage:t.payload.page});case D:return r(r({},e),{elementsPageTab:t.payload.tab});case P:return r(r({},e),{showCodePreview:t.payload.open});default:return e}},elementsReducer:function(e=M,t){switch(t.type){case R:{const n=t.payload.items,a=new Map;return n.forEach((e=>{a.set(e.id,e)})),r(r({},e),{elements:a})}case I:{const n=t.payload.doc;return r(r({},e),{mainDocument:n})}case H:{const n=t.payload.selectedElement;return r(r({},e),{selectedElement:n})}default:return e}},projectReducer:function(e=B,t){switch(t.type){case $:{const n=t.payload.name;return r(r({},e),{name:n})}case j:{const n=t.payload.assets;return r(r({},e),{assets:[...n]})}default:return e}}}));function Y(){const e=new BroadcastChannel("editor-channel");e.addEventListener("message",(({data:e})=>{switch(e.action){case"INIT":U({action:"SETUP",payload:q()})}})),window._EDITOR_CHANNEL_=e}function U(e){window._EDITOR_CHANNEL_.postMessage(e)}function G(){let e="";const{elementsReducer:{mainDocument:t}}=V.getState();return t&&t.body&&(e=t.body.innerHTML),e}function W(){const{projectReducer:{assets:e}}=V.getState();return[...e]}function q(){return{favicon:document.querySelector("link[rel~='icon']").href,title:"Untitled",html:G(),assets:W()}}var F=()=>{const e=i();let t=null;return o.createElement("nav",{className:"bg-background dark:bg-background-dark shadow"},o.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-4"},o.createElement("div",{className:"relative flex items-center justify-between h-16"},o.createElement("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden"},o.createElement("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false"},o.createElement("span",{className:"sr-only"},"Open main menu"),o.createElement("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})),o.createElement("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),o.createElement("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"},o.createElement("div",{className:"flex-shrink-0 flex items-center"},o.createElement("h1",{className:"text-lg dark:text-white",role:"button"},"Untitled"))),o.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},o.createElement("div",{className:"hidden sm:block sm:ml-6"},o.createElement("div",{className:"flex space-x-1"},o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){U({action:"UPDATE_PREVIEW",payload:{html:G(),assets:W()}})}},o.createElement(m,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Save")),o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){t&&!t.closed?t.focus():t=window.open("/preview/")}},o.createElement(d,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Preview")),o.createElement("span",{role:"button",className:"dark:text-white hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center",onClick:function(){e(_(!0))}},o.createElement(u,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Code"))))))),o.createElement("div",{className:"sm:hidden",id:"mobile-menu"},o.createElement("div",{className:"px-2 pt-2 pb-3 space-y-1"},o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(m,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Save")),o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(d,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Preview")),o.createElement("a",{href:"#",className:"text-gray-700 hover:text-white hover:bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center"},o.createElement(u,{className:"text-lg mr-2 mt-1"})," ",o.createElement("span",{className:"vertical-align-middle"},"Code")))))};function J(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-front",height:"1em",width:"1em",viewBox:"0 0 16 16"},o.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm5 10v2a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2v5a2 2 0 0 1-2 2H5z"}))}function Z(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-seam",height:"1em",width:"1em",viewBox:"0 0 16 16"},o.createElement("path",{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}))}function K(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V2zm8.5 0v8H15V2H8.5zm0 9v3H15v-3H8.5zm-1-9H1v3h6.5V2zM1 14h6.5V6H1v8z"}))}function Q(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M12.258 3h-8.51l-.083 2.46h.479c.26-1.544.758-1.783 2.693-1.845l.424-.013v7.827c0 .663-.144.82-1.3.923v.52h4.082v-.52c-1.162-.103-1.306-.26-1.306-.923V3.602l.431.013c1.934.062 2.434.301 2.693 1.846h.479L12.258 3z"}))}function X(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",fill:"currentColor",className:"inline",viewBox:"0 0 16 16"},o.createElement("path",{d:"M10.5 15a.5.5 0 0 1-.5-.5V2H9v12.5a.5.5 0 0 1-1 0V9H7a4 4 0 1 1 0-8h5.5a.5.5 0 0 1 0 1H11v12.5a.5.5 0 0 1-.5.5z"}))}var ee="_logo_1cgqi_1",te=()=>{const e=i(),{pages:t,currentPage:n}=E((({navigationReducer:e})=>e));function a(e){return n==e?"bg-main dark:bg-main-dark text-white":""}function l(t){e(function(e=1){return{type:L,payload:{page:e}}}(t))}return o.createElement("div",{className:"h-screen w-16 bg-background dark:bg-background-dark border-r border-borderColor dark:border-borderColor-dark shadow"},o.createElement("div",{role:"button",className:"my-3 mx-auto mb-4 rounded-full h-12 w-12 flex items-center justify-center border"},o.createElement("a",{href:"",className:"dark:text-white text-2xl text-center transform rotate-12"},o.createElement(p,null))),o.createElement("div",{role:"button",className:`${ee} ${a(t.ELEMENTS)}`,onClick:()=>l(t.ELEMENTS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(J,null))),o.createElement("div",{role:"button",className:`${ee} ${a(t.LAYERS)}`,onClick:()=>l(t.LAYERS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(g,null))),o.createElement("div",{role:"button",className:`${ee} ${a(t.ASSETS)}`,onClick:()=>l(t.ASSETS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(Z,null))),o.createElement("div",{role:"button",className:`${ee} ${a(t.SETTINGS)}`,onClick:()=>l(t.SETTINGS)},o.createElement("span",{className:"dark:text-white text-2xl text-center"},o.createElement(f,null))))};function ne(e){return"BODY"==e.tagName}function ae(e,t){if(null==e)return"";const n=e.getBoundingClientRect(),a=t-n.top-n.height/2;let l="";return a<10&&a>-10?l="inside":a<-10?l="prepend":a>10&&(l="append"),l}function le(e){if(e){if("BODY"==e.tagName)return;e.removeAttribute("editor-element-selected")}}function re(e){e.removeAttribute("editor-insert-preview")}function se(e){var t;null==(t=null==e?void 0:e.dataTransfer)||t.setData("text/plain",e.target.dataset.elementId||""),e.currentTarget.style.opacity="0.5"}function ce(e){var t,n,a;const l=parseInt(null==(t=e.dataTransfer)?void 0:t.getData("text"));let r=e.target;re(r),console.log(r.tagName),null==(n=e.dataTransfer)||n.clearData();const s=ne(r)?"inside":ae(r,e.clientY),{elementsReducer:{elements:c}}=V.getState(),i=null==c?void 0:c.get(l),o=function(e,t,n="inside"){var a,l;if(null==e)return null;switch(n){case"inside":t.appendChild(e);break;case"prepend":null==(a=t.parentElement)||a.insertBefore(e,t);break;case"append":null==(l=t.parentElement)||l.insertBefore(e,t.nextElementSibling)}return e}(function(e){if(e)return(new DOMParser).parseFromString(e,"text/html").body.firstElementChild;return null}((null==i?void 0:i.template)||""),r,s);return null==(a=e.dataTransfer)||a.clearData(),o}function ie(e){e.target.style.removeProperty("opacity")}var oe=e=>{const t=i(),[n,a]=o.useState(!0),[l,r]=o.useState([]),[s,c]=o.useState([]),[m,d]=o.useState("");function u(){const e=[{id:1,name:"section",display_name:"Section",icon:o.createElement(v,{className:"inline"}),template:'<section builder-section style="width: 100%;height: 300px;background: #fce7d9;"></section>'},{id:2,name:"heading",display_name:"Heading",icon:o.createElement(Q,null),template:"<h1>Hello</h1>"},{id:3,name:"text",display_name:"Text",icon:o.createElement(X,null),template:"<p>Text</p>"},{id:4,name:"grid",display_name:"Grid",icon:o.createElement(K,null),template:"<div editor-grid></div>"}];var n;r(e),c(e),t((n=e.map((({id:e,name:t,display_name:n,template:a})=>({id:e,name:t,display_name:n,template:a}))),{type:R,payload:{items:n}})),a(!1)}return o.useEffect((()=>{u()}),[]),o.useEffect((()=>{n||c((()=>m?l.filter((e=>e.display_name.toLowerCase().match(m.toLowerCase()))):l))}),[m]),o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"p-3 pt-5"},o.createElement("div",{className:"container"},o.createElement("input",{type:"text",className:"px-3 py-3 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"Search elements",value:m,onChange:function(e){var t;d((null==(t=e.target)?void 0:t.value)||"")}})),o.createElement("div",{className:"container grid grid-cols-2 gap-1 pt-5"},s.map((e=>o.createElement("div",{className:"bg-background-secondary dark:bg-background-secondary-dark w-full h-28 cursor-move",key:e.id,onDragStart:se,onDragEnd:ie,"data-element-id":e.id,draggable:!0},o.createElement("div",{className:"text-center py-6"},o.createElement("div",{className:"text-center text-2xl mx-auto dark:text-white"},e.icon),o.createElement("div",{className:"dark:text-white mt-2"},o.createElement("span",null,e.display_name)))))))))},me=e=>{const{element:t}=e,[n,a]=o.useState(""),[l,r]=o.useState(!1);return o.useEffect((()=>{(function(){const e=["H1","H2","H3","H4","H5","H6","P","SPAN"].includes(null==t?void 0:t.tagName);return r(e),e})()&&a((null==t?void 0:t.innerText)||"")}),[t]),o.createElement("div",{className:""+(l?"":"hidden")},o.createElement("label",{className:"dark:text-white"},"Text"),o.createElement("input",{type:"text",className:"px-3 py-3 mt-2 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"Set element text",value:n,onChange:function(e){const n=e.target.value||"";t.innerText=n,a(n)}}))},de=e=>{i();const t=E((({elementsReducer:e})=>e.selectedElement));return o.createElement("div",{style:{display:e.show&&t?"initial":"none"}},o.createElement("div",{className:"p-3 pt-5"},o.createElement("div",{className:"container"},o.createElement(me,{element:t}))))},ue=e=>{const t=i(),{tabs:n,currentTab:a}=E((({navigationReducer:e})=>({currentTab:e.elementsPageTab,tabs:e.tabs.elementsPage})));function l(e){return a==e}function r(e){return l(e)?"bg-background dark:bg-background-dark":"bg-background-secondary dark:bg-background-secondary-dark"}function s(e){t(function(e=1){return{type:D,payload:{tab:e}}}(e))}return o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("ul",{className:"flex cursor-pointer"},o.createElement("li",{className:`flex-1 text-center py-2 px-6 dark:text-white ${r(n.DESIGN)}`,onClick:()=>s(n.DESIGN)},"Design"),o.createElement("li",{className:`flex-1 text-center py-2 px-6 dark:text-white ${r(n.STYLES)}`,onClick:()=>s(n.STYLES)},"Style")),o.createElement(oe,{show:l(n.DESIGN)}),o.createElement(de,{show:l(n.STYLES)}))},Ee=e=>o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(g,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Layers")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"})),pe=e=>{const t=i(),[n,a]=o.useState(!1),[l,r]=o.useState(""),s=E((({projectReducer:e})=>e.assets)),c=E((({elementsReducer:e})=>e.mainDocument));return o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(Z,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Assets")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"},o.createElement("div",{className:"container flex gap-2"},o.createElement("input",{type:"text",className:"px-3 py-3 placeholder-gray-800 dark:placeholder-gray-300 dark:text-white relative bg-background-secondary dark:bg-background-secondary-dark rounded text-sm border-0 outline-none focus:outline-none w-full",placeholder:"CSS link",value:l,onChange:e=>r(e.target.value)}),o.createElement("button",{role:"button",className:"dark:text-white text-white bg-main px-3 py-2 rounded-md text-sm font-medium inline-flex items-center focus:outline-none",onClick:function(){if(!l)return;if(null===l.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g))return;let e=[...s];-1!=e.findIndex((({link:e})=>e==l))||(a(!0),fetch(l).then((n=>{if(200==n.status){const n=`editor-asset-link-${Date.now()}`;e=[...e,{id:n,name:(a=l,a&&(null==(i=null==(s=null==(r=null==a?void 0:a.split("\\"))?void 0:r.pop())?void 0:s.split("/"))?void 0:i.pop())||""),link:l||""}],function(e,t,n){if(null==e)return null;const a=e.getElementsByTagName("HEAD")[0],l=e.createElement("link");l.id=n,l.rel="stylesheet",l.type="text/css",l.href=t,a.appendChild(l)}(c,l,n),t(z(e))}var a,r,s,i})).catch((e=>{console.log(e)})).finally((()=>{r(""),a(!1)})))}},"Add")),o.createElement("div",{className:"container mt-4"},s.map(((e,n)=>o.createElement("div",{className:"flex",key:e.id},o.createElement("div",{className:"flex-1"},o.createElement("a",{href:e.link,target:"_blank",className:"inline-flex text-blue-500"},o.createElement("div",{className:"mt-1.5 mr-1"},o.createElement(h,null)),o.createElement("div",null,e.name))),o.createElement("div",{className:"mr-4 mt-1"},o.createElement("button",{onClick:()=>function(e){let n=s[e];var a,l,r;a=c,l=n.id,null!=a&&null!=l&&(null==(r=a.querySelector(`link[id='${l}']`))||r.remove());const i=s.filter(((t,n)=>n!=e));t(z(i))}(n),className:"text-red-500"},o.createElement(x,null)))))))))};function ge(){return!!Boolean(localStorage.getItem("dark-mode"))}function fe(){let e=document.querySelector("link[rel~='icon']");document.documentElement.classList.add("dark"),localStorage.setItem("dark-mode","true"),e.href="/assets/favicons/favicon-dark.ico"}function ve(){let e=document.querySelector("link[rel~='icon']");document.documentElement.classList.remove("dark"),localStorage.removeItem("dark-mode"),e.href="/assets/favicons/favicon.ico"}var he=e=>{const[t,n]=o.useState(!1);return o.useEffect((()=>{n(ge())}),[]),o.createElement("div",{className:"mt-1"},o.createElement("div",{className:"flex"},o.createElement("span",{className:"flex-1 items-center dark:text-white"},"Dark mode"),o.createElement("div",{className:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in m-0.5",onClick:function(e){t?ve():fe(),n(!t)}},o.createElement("input",{type:"checkbox",name:"toggle",className:(t?"right-0":"")+" bg-white absolute block w-6 h-6 rounded-full border-4 appearance-none cursor-pointer",checked:t,onChange:()=>{}}),o.createElement("label",{className:(t?"bg-main":"dark:bg-white bg-background-secondary")+" toggle-label block overflow-hidden h-6 rounded-full cursor-pointer"}))))},xe=e=>o.createElement("div",{style:{display:e.show?"initial":"none"}},o.createElement("div",{className:"mx-2 my-1 dark:text-white"},o.createElement("h6",{className:"py-2 inline-flex items-center"},o.createElement(f,null),o.createElement("span",{className:"pl-1",style:{verticalAlign:"middle"}},"Settings")),o.createElement("hr",null)),o.createElement("div",{className:"p-2"},o.createElement(he,null))),be=()=>{const{pages:e,currentPage:t}=E((({navigationReducer:e})=>e));function n(e){return t==e}return o.createElement("div",{className:"h-full m-2 w-80 bg-background dark:bg-background-dark shadow border dark:border-borderColor-dark"},o.createElement(ue,{show:n(e.ELEMENTS)}),o.createElement(Ee,{show:n(e.LAYERS)}),o.createElement(pe,{show:n(e.ASSETS)}),o.createElement(xe,{show:n(e.SETTINGS)}))},ye=()=>{const e=i(),t=o.useRef(null),n=o.useRef(null),a=o.useRef(null);function l(t){const l=t.target||null;var r;l&&"BODY"!==l.tagName&&(le(n.current),n.current=l,"BODY"!=(r=l).tagName&&r.setAttribute("editor-element-selected",""),e(O(l)),function(e){const t=a.current,{top:n}=(null==e?void 0:e.getBoundingClientRect())||{top:0};t&&(t.style.display="block",t.style.setProperty("--top",`${n+37}px`),t.style.setProperty("--right","-30px"))}(l))}function r(e){const t=e.key,a="Delete"===t;"Escape"===t&&n.current&&s(),a&&n.current&&c()}function s(){le(n.current),n.current=null,e(O(null)),d()}function c(){var t;null==(t=n.current)||t.remove(),n.current=null,e(O(null)),d()}function m(e){const t=function(){const e=document.createElement("div");e.setAttribute("editor-toolbar","");const t=document.createElement("button");t.addEventListener("click",s),t.setAttribute("editor-toolbar-button",""),t.setAttribute("editor-toolbar-ignore",""),t.setAttribute("class","unselect-tool"),t.innerText="×",t.title="Remove selection [Esc]";const n=document.createElement("button");return n.addEventListener("click",c),n.setAttribute("editor-toolbar-button",""),n.setAttribute("editor-toolbar-ignore",""),n.setAttribute("class","remove-element-tool"),n.innerText="🗑",n.title="Delete element [Del]",e.appendChild(t),e.appendChild(n),e}();null==e||e.body.insertAdjacentElement("afterend",t),a.current=t}function d(){const e=a.current;e&&(e.style.setProperty("--top","0px"),e.style.setProperty("--right","0px"))}return o.useEffect((()=>{let a=setInterval((function(){var s;const c=t.current;let i=(null==c?void 0:c.contentDocument)||(null==(s=null==c?void 0:c.contentWindow)?void 0:s.document);if(["complete","interactive"].includes(null==i?void 0:i.readyState)){const t=c.contentDocument;null==t||t.body.addEventListener("dragover",(e=>function(e){e.preventDefault();let t=e.target;!function(e,t="inside"){e.setAttribute("editor-insert-preview",t)}(t,ne(t)?"inside":ae(t,e.clientY))}(e))),null==t||t.body.addEventListener("drop",(e=>ce(e))),null==t||t.body.addEventListener("dragenter",(e=>function(e){(null==e?void 0:e.target).tagName}(e))),null==t||t.body.addEventListener("dragleave",(e=>function(e){re(e.target)}(e))),null==t||t.body.addEventListener("click",(e=>l(e))),null==t||t.body.addEventListener("mouseover",(e=>function(e){var t;n.current!==e.target&&"BODY"!=(t=e.target).tagName&&t.setAttribute("editor-outline","")}(e))),null==t||t.body.addEventListener("mouseout",(e=>function(e){var t;"BODY"!=(t=e.target).tagName&&t.removeAttribute("editor-outline")}(e))),clearInterval(a),e({type:I,payload:{doc:t}}),o=t,document.addEventListener("keydown",r),null==o||o.addEventListener("keydown",r),m(t)}var o}),1e3)}),[]),o.createElement("div",{className:"h-full m-2 ml-1 w-full shadow p-1.5 bg-background-secondary dark:bg-background-dark"},o.createElement("iframe",{src:"/playground/",className:"w-full h-full",ref:t}))};function we(e){const t=/<([^\s>]+)(\s|>)+/;let n,a="";return e&&(n=null==e?void 0:e.match(t),a=n?n[1]:""),a}function Ne(e){let t,n=/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|\s*\/?[>"']))+.)["']?/gm,a={};for(;t=n.exec(e);){const[e,n,l]=t;a=r(r({},a),{[n]:l})}return a}function ke(e){const t=e.replace(/(\r\n|\n|\r)/g,""),n=function(e){const t=/<[^\/].*?>/gm,n=[];let a;for(;a=t.exec(e);){let e=a[0];a=a[0];const t={tag:e,tagName:we(e),props:Ne(e)};n.push(t)}return n}(t);let a=t,l="",r=0;return n.forEach((e=>{let t=e.props.style,n=e.props.class?e.props.class:"",s=e.tagName;if(t){let e=`${s}-${++r}`;n+=" "+e,l+=t?`.${e} {\n${t.split(";").reduce(((e,t)=>{if(t){const[n,a]=t.split(":");e+=` ${n.trim()}: "${a.trim()}";\n`}return e}),"")}}\n\n`:""}n&&(n=` class="${n.trim()}"`);const c=`<${s}${n}>`;a=a.replace(e.tag,c)})),{html:a.trim(),css:l.trim()}}function Se(e){const{code:l,language:s}=e,c={height:400,textAlign:"left",margin:"1em 0",padding:"5px",wordBreak:"break-word",overflow:"auto"};return o.createElement(b,r(r({},y),{theme:w,code:l,language:s}),(({className:e,style:l,tokens:s,getLineProps:i,getTokenProps:m})=>o.createElement("pre",{className:e,style:r(r({},c),l)},s.map(((e,l)=>o.createElement("div",r({},i({line:e,key:l})),e.map(((e,l)=>{const s=m({token:e,key:l}),{style:c}=s,i=((e,l)=>{var r={};for(var s in e)t.call(e,s)&&l.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&n)for(var s of n(e))l.indexOf(s)<0&&a.call(e,s)&&(r[s]=e[s]);return r})(s,["style"]);let d=c;return i.className.includes("token plain")&&(d=r(r({},d),{color:"#fff"})),o.createElement("span",r(r({},i),{style:r({},d)}))}))))))))}var Te=()=>{const e=i(),{showCodePreview:t,mainDocument:n}=E((({navigationReducer:e,elementsReducer:t})=>({showCodePreview:e.showCodePreview,mainDocument:t.mainDocument})));const[a,l]=o.useState(""),[r,s]=o.useState("");return o.useEffect((()=>{if(t){const{html:e,css:t}=ke((null==n?void 0:n.body.innerHTML)||"");l(e),s(t)}}),[t]),t?o.createElement(o.Fragment,null,o.createElement("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},o.createElement("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},o.createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),o.createElement("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),o.createElement("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-3/4"},o.createElement("div",{className:"bg-white dark:bg-background-dark px-1 pt-5 pb-4 sm:p-5 sm:pb-4"},o.createElement("div",{className:""},o.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:text-left"},o.createElement("h4",{className:"text-md leading-6 font-medium text-gray-900 dark:text-white inline-flex",id:"modal-title"},o.createElement(u,{className:"mt-1 mr-1"})," ",o.createElement("span",null,"Code")),o.createElement("div",{className:"mt-2 grid grid-cols-2 gap-2"},o.createElement("div",{className:"w-full"},o.createElement("p",{className:"my-2 dark:text-white"},"Html"),o.createElement(Se,{code:a,language:"html"})),o.createElement("div",{className:"w-full"},o.createElement("p",{className:"my-2 dark:text-white"},"CSS"),o.createElement(Se,{code:r,language:"css"})))))),o.createElement("div",{className:"bg-gray-50 dark:bg-background-secondary-dark px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},o.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){e(_(!1))}},"Close"),o.createElement("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"},"Download")))))):o.createElement(o.Fragment,null)},Ae=()=>(o.useEffect((()=>{Y()}),[]),o.createElement(N,{store:V},o.createElement("main",null,o.createElement("div",{className:"flex flex-row"},o.createElement(te,null),o.createElement("div",{className:"h-screen w-full"},o.createElement(F,null),o.createElement("div",{className:"flex flex-row",style:{height:"calc(100% - 82px)"}},o.createElement(be,null),o.createElement(ye,null)))),o.createElement(Te,null))));const Ce=()=>(o.useEffect((()=>{ge()?fe():ve()}),[]),o.createElement(k,null,o.createElement(S,null,o.createElement(T,{exact:!0,path:"/"},o.createElement(Ae,null)))));A.render(o.createElement(o.StrictMode,null,o.createElement(Ce,null)),document.getElementById("root"));
